<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./tacit-css-1.3.5.min.css" />
    <style type="text/css">
        @font-face {
            font-family: 'fa4';
            src: url('fonts/fa4/fonts/fontawesome-webfont.eot?v=4.7.0');
            src: url('fonts/fa4/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), url('fonts/fa4/fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), url('fonts/fa4/fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), url('fonts/fa4/fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), url('fonts/fa4/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'fa5b';
            font-style: normal;
            font-weight: normal;
            src: url("fonts/fa5/webfonts/fa-brands-400.eot");
            src: url("fonts/fa5/webfonts/fa-brands-400.eot?#iefix") format("embedded-opentype"), url("fonts/fa5/webfonts/fa-brands-400.woff2") format("woff2"), url("fonts/fa5/webfonts/fa-brands-400.woff") format("woff"), url("fonts/fa5/webfonts/fa-brands-400.ttf") format("truetype"), url("fonts/fa5/webfonts/fa-brands-400.svg#fontawesome") format("svg");
        }

        @font-face {
            font-family: 'fa5s';
            font-style: normal;
            font-weight: 900;
            src: url("fonts/fa5/webfonts/fa-solid-900.eot");
            src: url("fonts/fa5/webfonts/fa-solid-900.eot?#iefix") format("embedded-opentype"), url("fonts/fa5/webfonts/fa-solid-900.woff2") format("woff2"), url("fonts/fa5/webfonts/fa-solid-900.woff") format("woff"), url("fonts/fa5/webfonts/fa-solid-900.ttf") format("truetype"), url("fonts/fa5/webfonts/fa-solid-900.svg#fontawesome") format("svg");
        }

        @font-face {
            font-family: 'fa5r';
            font-style: normal;
            font-weight: 400;
            src: url("fonts/fa5/webfonts/fa-regular-400.eot");
            src: url("fonts/fa5/webfonts/fa-regular-400.eot?#iefix") format("embedded-opentype"), url("fonts/fa5/webfonts/fa-regular-400.woff2") format("woff2"), url("fonts/fa5/webfonts/fa-regular-400.woff") format("woff"), url("fonts/fa5/webfonts/fa-regular-400.ttf") format("truetype"), url("fonts/fa5/webfonts/fa-regular-400.svg#fontawesome") format("svg");
        }

        @font-face {
            font-family: 'capi';
            src: url('fonts/capi/fonts/captainicon.eot?-1i2a56');
            src: url('fonts/capi/fonts/captainicon.eot?#iefix-1i2a56') format('embedded-opentype'),
                url('fonts/capi/fonts/captainicon.woff?-1i2a56') format('woff'),
                url('fonts/capi/fonts/captainicon.ttf?-1i2a56') format('truetype'),
                url('fonts/capi/fonts/captainicon.svg?-1i2a56#captainicon') format('svg');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: "mad3";
            src: url("fonts/mad3/fonts/materialdesignicons-webfont.eot?v=3.0.39");
            src: url("fonts/mad3/fonts/materialdesignicons-webfont.eot?#iefix&v=3.0.39") format("embedded-opentype"), url("fonts/mad3/fonts/materialdesignicons-webfont.woff2?v=3.0.39") format("woff2"), url("fonts/mad3/fonts/materialdesignicons-webfont.woff?v=3.0.39") format("woff"), url("fonts/mad3/fonts/materialdesignicons-webfont.ttf?v=3.0.39") format("truetype"), url("fonts/mad3/fonts/materialdesignicons-webfont.svg?v=3.0.39#materialdesigniconsregular") format("svg");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'dev1';
            src: url("fonts/dev1/fonts/devicons.eot?xqxft6");
            src: url("fonts/dev1/fonts/devicons.eot?#iefixxqxft6") format("embedded-opentype"), url("fonts/dev1/fonts/devicons.woff?xqxft6") format("woff"), url("fonts/dev1/fonts/devicons.ttf?xqxft6") format("truetype"), url("fonts/dev1/fonts/devicons.svg?xqxft6#devicons") format("svg");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'ow1';
            src: url("fonts/ow1/font/openwebicons.eot");
            src: url("fonts/ow1/font/openwebicons.eot?#iefix") format("embedded-opentype"), url("fonts/ow1/font/openwebicons.woff2") format("woff2"), url("fonts/ow1/font/openwebicons.woff") format("woff"), url("fonts/ow1/font/openwebicons.ttf") format("truetype"), url("fonts/ow1/font/openwebicons.svg#openweb_iconsregular") format("svg");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'oi1';
            src: url('fonts/oi1/font/fonts/open-iconic.eot');
            src: url('fonts/oi1/font/fonts/open-iconic.eot?#iconic-sm') format('embedded-opentype'), url('fonts/oi1/font/fonts/open-iconic.woff') format('woff'), url('fonts/oi1/font/fonts/open-iconic.ttf') format('truetype'), url('fonts/oi1/font/fonts/open-iconic.otf') format('opentype'), url('fonts/oi1/font/fonts/open-iconic.svg#iconic-sm') format('svg');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'batch';
            src: url('fonts/batch/Webfont/batch-icons-webfont.eot');
            src: url('fonts/batch/Webfont/batch-icons-webfont.eot?#iefix') format('embedded-opentype'),
                url('fonts/batch/Webfont/batch-icons-webfont.woff') format('woff'),
                url('fonts/batch/Webfont/babatch-icons-webfontch.ttf') format('truetype'),
                url('fonts/batch/Webfont/batch-icons-webfont.svg#batchregular') format('svg');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'drip2';
            src: url("fonts/drip2/webfont/fonts/dripicons-v2.eot");
            src: url("fonts/drip2/webfont/fonts/dripicons-v2.eot?#iefix") format("embedded-opentype"),
                url("fonts/drip2/webfont/fonts/dripicons-v2.woff") format("woff"),
                url("fonts/drip2/webfont/fonts/dripicons-v2.ttf") format("truetype"),
                url("fonts/drip2/webfont/fonts/dripicons-v2.svg#dripicons-v2") format("svg");
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'iw1';
            src: url('fonts/iw1/icon-works-webfont.eot');
            src: url('fonts/iw1/icon-works-webfont.eot?#iefix') format('embedded-opentype'),
                url('fonts/iw1/icon-works-webfont.woff') format('woff'),
                url('fonts/iw1/icon-works-webfont.ttf') format('truetype'),
                url('fonts/iw1/icon-works-webfont.svg#icon-worksregular') format('svg');
            font-weight: normal;
            font-style: normal;
        }

        #main {}

        canvas {
            font-family: FontAwesome;
            border: 1px solid #CCC;
        }

        td {
            vertical-align: middle;
        }

        button {
            background-color: lightgray;
        }

        body {
            padding-left: 1em;
        }

        .glyph-pg,
        .glyph-td {
            cursor: pointer;
        }
    </style>
    <title>Iconic</title>
</head>

<body>
    <section>
        <h1>Rasterize Vector Icons</h1>
        <img id="dock_w" width="28" height="28" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAACiklEQVRoQ+2Yz8tPQRTGP8ePotgKWUhSLCRZiI0ddlKsFEu//gGSKMVSkZQF2b6vBRvKRvmd8mOj2CgbCzuSbDw6NXS9vvc7M1/v3O57m9nd7nOfM8955pyZucbAhw1cH1XgXHe4Olgd7HkG6hLtuUHR6VUHoynqOaA62HODotOrDkZT1HNAdbDNIEk7zOxBzw2c7Lok6Q6wC9hkZm/7LDJ7iUp6CmwFvgGbzez9IARKWgo8B9YHQd+Dg3NfoKRlwBtgecOtYQiUtBOYBpbMWIpzX6Ckw8AlYMGIOksWKOkmsLuRpB/AfTPbV7p+W5uMpHPACWBeyySiAsPS9rpd3cLx2buxmb0sJXSkQEk3gIORoCkC3wHrIjyfzGxlZwIl3QO87mJjrEBJp4GzMZLw/oqZHUvEZsH+clDSC2BLIkNM4HXgUCLXbTPbk4jNgv0RKOkxsC3j65jAV75PJvJ9MLM1idgsWFPgUeAisDCRISbwbjjOpdA9MbPtKcBczMwl6rU3BfipJTZiAn17OR4jCe+nzGx/IjYL9k8XDa39NbDif7qopFWAH+MWR3h+An4zeZg180Rw2zbhDj4DNozhSdkmfC89CWNvLcU6qM997G1C0iOgrTaiAj2ApCPAGcDPs83xBThvZhcSzZgIFr0uSboF7B3BniTw93eS/OCwNjx/NLNrE80486OowODCZcC7bBOfJTBzXrMGTxIYRJ4KS21+iD4sgUGkL7OrwKLB3egbteS/K3wT9067cXD/ZIKT3hG9SRwws6+zVjAFiJJrsEDsTiirwE7SXDBIdbBgcjuhrg52kuaCQaqDBZPbCXV1sJM0FwxSHSyY3E6oq4OdpLlgkOpgweR2Qv0LQnDFOUJrp+4AAAAASUVORK5CYII=">
        <img id="dock_sw" width="22" height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAACCUlEQVRYR+2YvWsVQRTFfydWghG0sBALEbFNmoAgQkrFJo1pY4oUEv0HUoQEBK1Vgmghip1VqhR2BgJaGJA02phIwELzQQiCIl4Z2Pgx5L135+1uNsGZbuHcO789c2Z3dsUBGzpgvGTgulcsO5wdjhzIkciRyJGoOwPZ4exwewf+7+ewmT0FLgNHCp++AS8kXa0qOZU4bGYngFfA6RZgn4FLkt6UBa8K+B1wrgPMJ0knGwc2s0lg2gkyI2ncqd1VVtphM3sMXHNCzEoacmprA14E+p0QHySdcWprA54LG8oJsSDpglNbG/A94IYT4rmkYae2M7CZhWZPgDFJzzyNzewU8B443EH/ExiUNO/p20rzz6YzsyvALGDAaAL0LWAC2v42KP2ECDfRCvgQ8CMR+jowBYSXyN9jC7gt6U4ZZ3dqY+Aw6X2gpxAkQYcaMxsBzhb1HyU9qgK0FfDDkN9ogmToKgHjXrHDwd3d3kT7BtoLHG50X0DHwHeBm22WtHHoGPglcLFDBhuFjoFfAwOOTdMYdLfAjWW6DHAj0DFwylFxJzl7Go/fwGbWC6wAxxwZjiV7Bh0DLwPHuwAOJeE0Ni7pQZf1rrIYeBU46qr8Iwrufi9OeEuSzifWJ8njDIf/Cn1AOGF9BbaBdWAT2CiuvwBrQPgKfps0WwXi0h+hFTAktcjASXZ1If4FpVGvLWXVutEAAAAASUVORK5CYII=">
        <img id="pan_w" width="32" height="32" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC9ElEQVR4Xu2azatOURSHn5+PjEwUMwPFxICEGCgGZmZCmclASZlIIZSJJAPFRJSRkVz5E5DyWQxQhvIPICMfS/t2bl3Xe/be7znv2Xvf95wz3V/r9+y1P87aS/T8U8/1MwAYPKDnBIYl0HMHiN8EzWwlcB3YDPHtMgD+AJyV9CVm7KglYGYXgXPAiphOC6jzC7gi6ULIliAAM3OdXCp81kfpNOCypPM+CF4AZrYG+AisCpEstPwbsF3Spzr7QgD2AY+ApYUKDJnlvOCkpJtNAVwDToVGKbz8rqSjTQE4cicKFxgy776kQwOAGgKhPWDwgA6XwG9gSYLjtcgl8APYC2wBbnR8yhQHYFa8pOduWZrZ8Y4hFAXgH/Fz+5KZnQauhrbzhuXFAKgT736y3gAbGgoMNSsCQC7xDk52ACPFV+v/PbAxNIUty7MCyC0+qweUID4bAJ/4d8Cmlm49TvPkS8An/m0VUhtHQNu6SQH4xL8GtrZV06B9MgClzfwcqyQAasVXx50LrKx2N98GM1jX5GflUe5/wvd1DsArfoKC/+vKzGIiVp0CcDO6W9LTLoXW9W1mMfGKTgE4255J2tVnAE77C0k7U0Mws1vAsdx7wNz4tRDM7DOwFnAvNpP8lkV01vkSmG/DSAhmdhC4ByyPMHjSVZICqF0OGSEkB+CD4OLzzhNiXHdSnpAFQEkQsgHwQTgC3E7kCVkBhCDc6Tgk7sbPDiA3hCIA+CD06l2g7p7Qi3eBkTfGKvlq6t8FFp7ps55QiXcxwnWTOvRH9FPMHrDQtpdV7tH6DsUXcwp0rNHbfbEekArKAKBNjlBMwCHVTDYdp5UHuDt7iutqU3Ghdi5meUZSbe5BKEnKhbmeZApkhMTFlP8BDkh6WFc5Jlf4AbA/ZrQC6zyWtMdnVxCAa2xmr4BtBQr0meRynHdI+t4aQAXBxeAPL4LE6a/AjC89dj6QKA9YZDM/lrkDgLFwTWHlwQOmcFLHkjR4wFi4prBy7z3gL+Ltn1DQCxcZAAAAAElFTkSuQmCC">
        <img id="pan_n" width="32" height="32" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADKElEQVR4Xu2aO4sUQRSFv+MDTHxgYCSIgoorrIkvNtrAzExEMRMDA0UDTUQw08REQQ0EwR+wrOJPUBBEEXygC+6CgqKmIr5QLLnSAzO90901Pf2o3akJZ+pxz1enbnXdaTHiH424fiKA6IARJxC3wIgbwD8JOudWAleBHeDfr2HA5uhZ4IKkNz5ze20B59xZ4CKwwmfQANo44IakU0WxFAJwzp0ArgFLigYL8Pcrks7kxZULILH9HLAuQHE+IX0Ddkt6ndW4CMB+4B6w1Ge2ANvYVjgt6XpZAJeA8wEKGySk25KOlQVg5E4OMluAbackHYoAMggU5YC6HfAD+APYM0Zdn2AdYBl6H/ABeAmsqYlAkAD+i5f0yEQ759bXCCE4AD3iO6teI4SgAPQVXzOEYADkiq8RQhAAvMTXBKF1AAOJrwFCqwBKia8YQmsAMsU758Ylveg+951zY/1ubRWcDq0AyBP/DFgtaWMKgH2/StKm9APRkBAaB1Ak3kpqs5K2pAA8BnYBc5I2VwihUQB54p8D44mwPADW5K3VHiV9TUEq88TYGABf8aapCECVEBoBkCf+FTCWsrQPAOvyzlwzpBNqB2Blp8OSpvrs237ifR3QGe49sL0PBINqJ0lRua52ABboJ2CyU4tPiqlPgK0ZV1xfB3RDmJBkV2e7PVr9wHJKz0mSMVcjAGzuz0kW/wI8BeZl8q4ABwVgXT8CewAb31e89WsMQAfCd2DeWV4yB6QX1SD/AjZkrHa/rxsF4BtXGQf4jp1uFwGEWBWODsh5FC5r9ax+cQvELRDgP0MxB8QckF0PiEmwYgLxFIinQICnwIykniKJc+4hMFGx/Ru/DfrG/zMpZixLOvwGtllV2HeAAdoFmQMGiH/ophHAMEnwJnB86DVod4ChHHAUuOVReGxXYvbsVrA9J+lyVpOil6T2Ag+A5aEqLIjrL3BQ0t1SAKyTc24aOLBAAdyXNJkXe+HL0gkEK3HvXGAQZqyKnP4/Ia3BC0ACwd4ZPAKsDRyElc3v5L0e2x2/N4DARZcOLwIojW6RdIwOWCQLWVpGdEBpdIuk48g74B8PEAVfYEJyxgAAAABJRU5ErkJggg==">
        <img id="dock_nw" width="22" height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAACBUlEQVRYR+3YMUhVURzH8e+PpqCGlgZJiIhGCTEIXJzCaGkxmtKhRWxobogERfeixSFoaGmSQIfGQLGg5iSIdHCwqUgL0r8cvEqdrvee27n33SecC48Hj/8553P+/O+5//vEMbt0zLz8BTazPuAqsA58lfSu2zZ0CDaz08An4KyH/A24zw7wE/gFbANbf3z/AL4DnyU9aHKTPvgLcCZiwdeSrkWMLx1aJ3hB0o3SFSMD/BpeA3r/Y86OYJ3LBy9nN10Vc8eweeC3wJUK2o5iY8Edx+aB3bk7EJDhVrB54Dngbgm4NWwe+AkwUQBuFVsV3Dq2CrgrsHngacDvBboGmwe+DrwCTmR1XAlrZs8BN8epbLxrlFx/MRJw8gSF+E861wvMZ+BgrJm5Dm8FOH/EqpvAsKT3QaqCIB98G3gBLFZpZMzsI3CpBLMhqaducD9wR9L90InN7CEwGRj/VFLRsVk6TfQrkpk9A8ZKV9oPmJd0MzA2N6wO8AfgciDCvZFcCIxtDLzobqhAxJKkwcDYxsCPgXuBiJeSbgXGNgY+B6wCJ0sgu8CQpDetgt3iZjaVPSGL7onoE+KfJ13Mzs1sHHiU8zfBN2BG0mzM/Adjo08JH2Fmo8DF7Pc1Sa7Hru2qHVyb7IiJEjhl2MtAKolUEqkkmq6BlOGU4eIMpHO46QpJGW46w3sj/6Utcrpx4QAAAABJRU5ErkJggg==">
        <img id="dock_n" width="28" height="28" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAACXUlEQVRoQ+2YMahOYRjHf/8siMGiyCDJQEmmK5JMDOqmMDIpsVoUUYrFJEqUMpIBwx1u3EFuWdxBhEVZDIoig8VfJ4e+Lvd+7/nO+5xTX+/Zvnre5/n//v/O+XofMeaPxpyPTgFtvwGWA1skfevC3M4Abc8CO2qol5K2jg2g7fvAwXlAM5L2RkOGJ2j7BnB8AZC7ko5EQoYC2j4LXIBF3/Vrkk5FQYYB2j4G3AKWDBFv4LSkKxGQIYC2J4AZYGmi6J/ApKRHifXJZdkBba8Gqr+DVckqfhd+B3ZLetHw3KLlWQFtrwReA+tGFPkFmJD0bsTz/xzLDfgK2NxS3HtJG1r2+Hs8G6Dtx0Cu/7U5SdtzQGYBtP0QOJBD0ECPZ5J2te2ZC/AJsKatmHnnP0va2bZnFsC2IiLPF8BId7voXRLswuXIGSXBSHe76N1JgrbvAPuBFTXUD2Ba0qFoyFDA+mbxHFi/AMgnYF/uG8TgrGjAt8CmISl9lLQ2KskwQNvn6nVFivbrkk6mFDatiQS8DVRri5TngaTJlMKmNZGAc8C2REFZ74CdvIO2p6oPSCLgbI6bw/9mRSZ4FUhdB96TdDjRjEZlkYDVXqbarSwboqjaqO2R9LSR8sTiMMBqvu2LwJkhi9+wL2ilIRSwhjwBnAeqdeLg8xW4JOlyYhgjlYUD/lFl+yiwsf79QdLNkRQ3PNQZYENd2coLYDYre2pUEuzJ+GxjS4LZrOypUUmwJ+OzjS0JZrOyp0YlwZ6Mzza2JJjNyp4alQR7Mj7b2JJgNit7alQS7Mn4bGPHPsFfLISFOWN84tAAAAAASUVORK5CYII=">
        <img id="dock_s" width="28" height="28" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAACfElEQVRoQ+2Zz6tNURiGnzcZKEopSZTkx8DEkBiQAQaKAdNrSNdfYHCjFDMDJUUpmZm4DAwM5deEgbrFRN3JHSgDBkj5tLRunYFz9rf2XmvffU9rz269a5/n+d7b2WvtI6b80pT7UQVXe8O1wdrgwCdQ/0UHXlAjXm2wcUQDD9QGB15QI15tsHFEAw/UBgdeUCNebbBxRAMP1AYHXlAjXm2wcUSOgJk9AE4C62P8F/Bc0lnH8k6Rog2a2WbgLbBjDOUX4ISkd50sJiwuLfgR2NMAvyRp66oTNLM54KoT/LakWWc2KVasQTO7D5x30sxLOu3MJsVKCr4H9jtpPkva6cwmxUoKPgtfIE6aV5IOObNJsZKCt4BLTppHks45s0mxkoLbgE/AugaiP8ARSS+SyJ3hYoLh883sGnAZJv7IU+wbNDAUFYySF4ErQHjoj17fgOuSbjjLaBUrLrhMZWYzwK7496Kku62IExf1JpjIlS1eBbONcoVuVBtcocFn+9jaoGeUZha2WVs82YTMjxyPkiwNmtkisD0B3hP9KmmTJzgpk0sw7Ds/ABu7AsX1P4Gjkt50vV8WwbglOw48BdZ2hAqb7xlJDzve59/ybIJRMpzg7wFrWsIZMCcpbNKzXFkFo6TnBDEOPvvJIrtglEx5H7Ms+1jSmSy1jdykiGCUfAKccgK/lHTYmU2KFROMkq+BAw1EC5L2JVEnhIsKRsnw2mL3GKYlYK+k7wnMSdE+BMNJPjwj/3eiPyhpIYk4MVxcMLYYNgJBZEPk+w0cK/WiaXQGvQhGyfDr0nx8Rs5KupNYRqt4b4JR8kJ4jSjpZivaFot6FWzB13nJ1Av+BbKtiznMvWWeAAAAAElFTkSuQmCC">
        <img id="dock_ne" width="22" height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAACC0lEQVRYR+2XsWsUQRTGfx8mqDGtFiIiIYhYSUiXxlI7LRJiZUgXov+ARVSImN6ghUXEQgsbrQykFELSaBFIiBaBIFjYCSI2vjCwJ5sll7zbmdvbwA5sccf3dn733TfzZsQxGzpmvNQS2MxGgLPARWBD0lrL2K4Dm9lD4ApwBhgEBrLnNBCek8Ap4ATQD/QV/vXfwIikr+H7KoDfApMR0fsDjErarAQ4TGJmb4A7JaGrB46E/plF4ntlDrecLen0lqSrlS26YgxKQH+TdLlnwCXi0XvgDqHrAdwB9HtJt3saiXyuHZl+J2miNsAOp+sHfAR0PYEPgV6SNN2VSJjZa+BmdsgJc/wFViSNe9tyIdMGTEt6lRTYzM4B68ClNmChvd6Q9NkDnoMOwLOSXqQG3gb+d6M2UD8knfcAF+JxX9JiMmAzmwMeO0GeS5p1asMp7wmwLOlTSuAlYMoJ8UHSLaf2QFn0Ad7MvgDXnBA7koac2q4BfwwLygmxKmnMqe0a8DPgnhNiXxNw1uyTpYjEBSBcEMOF8rDxD7ieX0A9Ac62oHngwRGX2o52iHY/Jtrh1ovNbAZ4BIQmkh+/gKeSFso4WqxJBpwDvwsMZ593Jb1MAZpsH04J43lXcoc9k8ZoGuAY9zy1jcMel2I0jcMx7nlqG4c9LsVoGodj3PPUNg57XIrRNA7HuOep3QM2naAtafgZ1AAAAABJRU5ErkJggg==">
        <img id="pan_s" width="32" height="32" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC+klEQVR4Xu2aOagTURSGv98FbCxs7C20EEQbURDhdYraubQuhbhho4i7hSuCKCq4gpWVoIiFdiKIqI1WCvpKtXZpxSPnkUASkpk7mZnMDblpc++Z839z7vbPFRP+04TrJwFIFTDhBNIQmPACCJ8EzWw+cA1YDuH9GgD8CTgm6VvIs4OGgJkdAs4B80KCRtDmL3BJ0qm8XHIBmNk+4AYwKy9YZP8bcEHSyay8MgG0yn4aWBiZuNB0fgMrJX0Z1CEPwEbgKTA79ImRtfMqOCjp5rAAzgPHIxNVNJ0HknYNC8DJ7S/6xMjaP5K0LQEYQCBvDkgVUNMQmJa0uPOlmNkHYEUNwyfKIfBV0pIeAO99yUoAqieQKiDGVSANgTQHpEkwrQJpGUz7gA4CZpY2QmknmLbC430WcPvpNOB29P0cG22YnWA7/g/gbgGbbiRngS4H1sz2AO4lDPISiwKYES/JrXnMbG/LqQ7xKmsH4MmdkXS2Z1nbAdwD5vQ54BUB0CW+HcvM3Ofz+Hl2fe0APKfXktb2CjWzQRBCAbj4E5Iu9on9DNgUcHoeCQDP452k1YEQQgD8A45IutIn5gtgXYB4bzIyAFkQ3JV92DEc8gC4+MOSrpYUP3IAWRC2tiDMBbIAuPgDkm5VIL4RACEQvkta1DNpfgSWuQkr6XZF4hsDkAVhOzAlaWcPAP8A65VxvULxjQIYCCFw8pppZmZFJrx+oUc6CfZLoO/qEAKhAvGNV0BbZ2EIFYmPBkCh4VCh+KgABEGoWHx0ADIh1CA+SgB9IdQkPloAXRBqFB81AE/uDfAT2BCyLA7ZpvF9wJB5V9YtASjzdfgOsLuyd9FMoFIV4I5OnsHZjKywp7qjdFTS5UHN8y5JrQFeAn6GH8efewtbJD0ZCkDrNPYcWD+O6oFXkqaycg+5LO3X5N8CS8cMwmdglaQ/pQC0O5uZW9CbgQWRg/gFPM66HtuZf24FRC62dHoJQGmEYx4gVcCYv8DS6acKKI1wzANMfAX8Bz47+FCa5tNiAAAAAElFTkSuQmCC">
        <img id="pan_e" width="32" height="32" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC6ElEQVR4Xu2aOYhUQRCGv98DTAQxMDISjAQF8cJAxcTAzEAQFMXAwAtEUTw38ERYFBVEEEw2EwPBwFTTDQVRWVBQ1MBENxVbSmZhj5n3ema6xu6d99LXr7r+r6v6eiWG/NGQ66cB0ETAkBNoUmDIAyB+EgwhLAXuAusg/rv/APgtcF7Sl5i+o1IghHAauAYsiTGaQZvfwC1Jl+t8qQUQQjgK3AcW1BnL7H0Abki6VOVXJYBW2E8AKzITF+vOL2CjpA+dPqgDsBt4DiyM7TGzdhYFJyU96BXAdeBCZqK6deeJpMO9AjByx7rtMbP2TyXtbQB0IFA3BzQRMKAUsHV7kVPqZJ0CNkuPAI+A98AyBwjZApixUQkhrATeOEDIFsBtSeemj7gThGwBfAa2zj60OEDIFoAN/ldgszOErAEYBO9IyB7AFIQ1kiYd5oQiAJjuT8BaBwjFADAIH+3GKTGEogAYhAlJq2dviPpYHYoDkBpCkQD+pYOkVQkiwR3AO+CVw4XppKQT7c4GXaaDO4AxSQccDjGVJruA4A6gsgNPMCEESxE7RVYdpec1gJfArhrI8xNACCFGvLFxB2Cd2I1Oyseu4X8A69v94upC/MAApBRvtv4ApyTda7MMxo781KcDiYCUAEz8cUkPE4gvLgJM/BlJdxKJLwqAh/hiAJj4s5JGE458MXOA3Q5flHTTQXz2EWDir0iy4osZT5dLXdUknO0qMAjxWUfAnP8C5m3Ckc9+DvgG7JheveEgPusIMOe+A9sNgpP47AGYg1bOZjU8O1NuJ6fZynYSdNI7x2wDoCmR6aNGyAoXjgwqVp366SsFDgGPC68THJF0tRPcuiKpLcBrYLHT6HibtUPWQUljPQFo7cyeAXu8PXWyPy5pU5Xt2mLpFoRxYIOTk15m7Ufrtrqy+SgALQhWM7gPWO7lcSK7P4EXkvbH2IsGEGOsxDYNgBJHLaXPTQSkpFmirSYCShy1lD4PfQT8BaXNpVAlrZJjAAAAAElFTkSuQmCC">
        <img id="dock_se" width="22" height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAB+klEQVRYR+3YMUhVURzH8e8PB1OUCqQhDETEoaWIJl3ays2CnAJbRWcHBy0Kak90cAiCpgZxcnAUhBYFh0CDAheHNkFEBP/xh/vivYe+d+67976rdO50L/zve5/3u/9z3jlXXLND18xLBBf9xGLCMeG6BGJLxJaILVF0D8SEY8KNE/i/52Ez+wKMAT1JTqfAhqSXeXVOLgmb2R3gOzBwCewP8EzSdlZ4XuA9YLgJ5lDS3dLBZjYPvA2ELEmaDqy9sCxzwmb2GXgdiFiTNB5YWxh4B3gYiPgtaTCwtjDwug+oQMSWpNHA2sLAn4CZQMQ3SROBtYWB+4F9oKsJ5Bx4ImkzBGxmT4FVYFbSYuWezIPOP8jM3gNz0PC1QfAMUYW9AUxLWs4VnKCngDeA/4lUH0fAB0kfUybrT8wKA1cwZjYJDCXXB5JWQqDJj660QaW9HLwg6V3uCYeiLquraoP6sbAq6cWVAjfAurNmZsll0GVJtwn2aoEDsA7+KulV6S0RiHXnrqQHpYJTYN35U9K/pWvbezgltlxwC9jywC1iHVyzJG1LS2TAOvgEeCzph18UDjYz3zH7btoXMq0cx8AjSb4ibAt4AxhJFjKdQEfK7z3zHU3bEr4oUjO7D9wDbgN9QG9yfqvqvBu4CfyS9LzUebiVvojgLKmlufcvH/ybLVF4VNgAAAAASUVORK5CYII=">
        <img id="dock_e" width="28" height="28" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAACZElEQVRoQ+2YMahOYRjHf/9RsRgMuoMkg4VNuQbJwCYhGwZKbExClFxZ7qAslJKBFJkMBkrEgixiIdQdDIqFxaPndk7dvr5z3vc433t7z+092+l7nuc8v+f/vO/zvp9Y4o+WOB8FcOgKFwWLgplXoLRo5gIF0ysKBkuUuUFRMHOBgukVBYMlytygKJiDQGa2TdLT/8klewXNbAUwB7yVtLUr5FAAPwMrgXeSNnaBHBqgs30Ftkj6FgM6REDn+gHskPQ6BDlUQOf6DRyRdLsNclEAzewWsAtYXiXzB3gsaV9IgWqTqdfgqPlf4IykmaY4SQHNbBXwCljTkMB3YGdbqwUAPawBNyQdHfeN1IAfgPUBleYkrW6yiQCsXR9I2jMaJxmgmZ0DLoRasPr9mqTj42w7ALr789FZmRLwJnAoEvChpN0TAPQQ74HNkn75S0rAN8CmSMBPktZOCHAeUtKG1ICPfAOJBHwhaXpCgL6znpV0KTXgVeBEJOA9SfsnAOiz8bCkO3WslC06BXwElgUgveJ+W3jWE3Ds6SYZ4PyAMrsInA6s9cYdtIrht4mmQV/XpPF8mhSwSvAYcB7wob/w+QnMSLrcpnDEmGi9YSQHrJM3s4PAuur9i6TrMeszAPhE0va2OIsGGAPTcQ3elXQgFHeIgH72nJV0MgSXdEzEfDzGZqRFfcc9JWk2xndIgP6fjHfbXkl+gIh+sm/Raie+D1yR9DKarDIcBGBXqIX2BbBP9XLwLQrmoEKfHIqCfaqXg29RMAcV+uRQFOxTvRx8i4I5qNAnh6Jgn+rl4FsUzEGFPjn8A9mWvjnHzumKAAAAAElFTkSuQmCC">
        <p>Pick an open icon font:</p>
        <form>
            <select id="font" data-q="f">
                <!-- will be populated by script below -->
            </select><br>
            <h2>Font Information</h2>
            <p id="attributionParagraph"></p>
            <p id="licenseParagraph"></p>
            <p id="courtesyParagraph"></p>
            <p><a id="homepageLink" target="_blank">homepage</a></p>
            <h2>Select Icon</h2>
            <p><a id="browseLink" target="_blank">Browse</a> the font icons.</p>
            <label for="unicode">Unicode:&nbsp;</label><input id="unicode" type="text" size="10" value="" data-q="u"><br>
            <label for="decimal">Decimal:&nbsp;</label><input id="decimal" type="number" size="10" value="" step="16"><br>
            <label for="literal">Literal:&nbsp;</label><input id="literal" type="text" size="10" value=""><br>
            <img class="glyph-pg" id="pageUp" width="28" height="28" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAD30lEQVRoQ+2aW8iOWRTHfySSRimmaXIxI5NpkpkyymGKSFKUHAopRZPI6WKQJIcLNE1uRAo1EU1cUFIoh5xqMOR4QVFD0bgg0ghF/9oPX5/v2XuvvZ+H19e76u17v961116/vfZx7d2Bdi4d2jkfTcDPPcLNCDYjWN4CXwM/AP2APkBvoCvQEXgOPARuAzfdR/9XLlV3UUGNB5Y6KIvDl4BNwCHgkaWgT7cqwG+B34B5FTkm0D+Af3Pt5QL2AFYDC3MdKSm/BtgIPE21nwM4DDiTWrGh3DNgBKAubJZUwCnAXnNteQXGufFpspICOAHYb6qlOuUxwFGLOSvgx+qWPoafgX9iIS2AWsfuxRquUe8/oH/sUhIL2Ak4CSiCjSAHgYnA65AzsYBzgS0hYxG/TwK6AHsidEMqM4GdIaUYwG+AuyFDEb8PBv52epr2T0SU8amoq/7otnylejGAG4Blmc60hCtMVQG5Aljn8y0E2BO4AXyZAdgWXFWQ94EBwOMy/0KAk4F9NcFVBTkWOJwCKHjBaWJIEV/kWtvL6a47gF+BN2056YtgzuRigcuNpCab78u6qQ9Qi+m1hNClwOVCDgIuWiM4HdhtBMyBy4H8CbhiBbROMDFwnd1YeRVoOOuYnAb8ZQWcAeyKjGAMXDe3uGvMqPFeVAg5H9hsBdwOzI4AtMBprEiUd6kSMimCvwNLAoApcIXJKiG1TCggH4hvFvWNQaURRrfYW5a1Q9Eti8i11qsKMqmL+gA1oNUtfBKCs0RSudRTnuPaKOC4NYK+1IQiqLNh2ToZCxcLqR5w3tOaSevgd8Atj9EySCtcCDIEp/LalOhQYBqDvYDrgZOEIH8BrjrLqXBlkDFwdxzg/1ZA6cecBYsJR/maA0DZhBKx4rxbQmY5p49FFFoLrCrTCx2XhgJnIyr5lCoDfUnhEKC6nAa3bokaUTRHaPyVbv1CgIKaA2xtRDq3VLW5By38jQHsDlxOuA6ru028k4sFULrDXV60bqct9mO2iaZXFpqtVlo8qFF3uZvhg1XEdNHCiBK2pytYBoJOBRS0f9UuK5jVlh0LoPS/cifnnDRiDmAwTdjauBVQ5fu6xwM5jqaU1UFZN0umC6AUwAJSG4CPFUlFbgigvyZJBVQlup/XhcxUU4125T+BRan39DmAhasjgW01rJMXgMXAOXubvC9RBaCs6f5Qh069iMjd1h0B1rsDbpvZagtwVYAt69TLJt0XLDBEVS8o1BV1x6DXT5VJHYAtndM41esnfb4AlBeVvASeAA/cR99rkboBa3HaYrQJaGmtRtRtRrARo2Lxqd1H8C1rnL05qQvpvgAAAABJRU5ErkJggg==">
            <span id="glyphSpan"></span>
            <img class="glyph-pg" id="pageDown" width="28" height="28" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAEB0lEQVRoQ+2ab8iOdxTHP7QmaUqNlrzYRCQho7AXEy0pav4VUl5Iy3/Jn1hrpjZa4oUsZSsspe2FF1Iokn9hWDO82IraFPHCMKlN6FvXlbvbff1+5/yu636ex9N96u65n+7zO+d8fudcv79XFzq5dOnkfLQA3/QMtzLYymBxD/QFhgCDgP5AP6A70BV4AtwF/gRuZB/9X7lUXaKCmgqszaA8AV8BdgCHgfuehiHdqgA/AFYDiysKTKBbgb/K2isL2AvYCCwvG0hB+6+AbcCjVPtlAD8CzqQ6drR7DIwHVMJuSQWcBfzk9lauwZTs+XRZSQH8FDjo8lKd8iTgmMecF7CtyjLEMAq4bIX0AGoe+9tquIl694Ch1qnECvgWcBJQBjuCHAKmA89iwVgBFwHfxYy18e/zgX0xnxbA94FbMUPt8LtKdXi25Ct0bwHcAqxrBwCLy8+Bb0KKMcB3getAH4u3dtC5DQwDHhT5jgHOBH42BK7VhnYGIw26FpWrWeAW3cnAkRRAwQtuRsTLeUBOHgLrga8tUQV0lgI7AVXPcQPoD8BC4EUjm6EMWgYXwX0C/FtjfEMJyBwuN6fFvKYnlWGRaLAZXFSmIUBNpr8HDDeCy9VTIOvhPJCjgUveDM4F9hcA3gRGAHr2isQDWQSX21a5XghsohXLb17A0ACjlYQW3c8jz5sFMgYnFzrmUMUoU41kDnDACzgP+DEAsMS4uglBWuAUggav0HxXaCf0DH4PLIhkaBWw3TBqNoK0wlmqICmD3wJrDMGnQFYJpxA1TSghr0kog9ZJXkatkCo1zZeWhbslczlQUol6AD2QhqLAAyd7E4ET3gymHE1YMxmC9MLJVtI8OBD4w9LddTplIFPg5F6LEm0KXM9gb+Ba4k4iBTIVTosOAT71Akq/zF7QA5kKpxg3AV8WVVpsuzQOOJtQpnkTC2QZOPn5MHQoHAPsAVzMbolSOUOQZeE0Rqg8/0/NoNp9BuxKpcvaNYIsCyfThSuYPN5YBqXXE/g14Tqsvk9qIauACw4uHkDpfpxtPEsmkr1Zh00rawgYk22hgqYsGcwNaLT6ooLAqjChJZ9G+Kh4ALsBpwN7sqizihR0A6xVVvRUW/48gNJ/L9s5t9cxYvSYsL4TvYBqPyA7IqwoIWYzOlzSzZLrAigFMIfUAqCtMqnMjQX01yWpgHKiIz3t62a7PPqV9wArUu/pywDmoU4AdlcwT9aj/wKsBM75++RViyoAZU33h9p06o0IvfxTRo4Cm4FTRafVHuNVAdb61JtNOspf5siq3qBQKeqOQXcclUkzAGuD03Oqt5/0eQd4O/vxP+Af4E720femSLMBmxK0x2gL0NNbHVG3lcGOmBVPTJ0+gy8BeP+2OWn8C7oAAAAASUVORK5CYII="><br>
            <h2>Style Icon</h2>
            <button type="button" id="glyphButton">Glyph</button>
            <button type="button" id="borderButton">Border</button>
            <button type="button" id="alignButton">Align</button>
            <button type="button" id="pinsButton">Pins</button><br>
            <hr>
            <div id="glyphDiv" style="display:block;">
                <label for="canvasColor1">Canvas Color 1:&nbsp;</label><input id="canvasColor1" size="12" type="text"
                    value="lightgray" data-q="cC1"><br>
                <label for="canvasColor2">Canvas Color 2:&nbsp;</label><input id="canvasColor2" size="12" type="text"
                    value="gray" data-q="cC2"><br>
                <label for="color">Glyph Color:&nbsp;</label><input id="color" type="text" size="12" value="black"
                    data-q="c"><br>
                <label for="size">Glyph Size:&nbsp;</label><input id="size" type="text" value="128" size="8" data-q="s">&nbsp;
                <button id="decrSize" type="button">-</button><button id="incrSize" type="button">+</button><br>
                <label for="alias">Anti-antialias:&nbsp;</label><input id="alias" size="6" type="text" value="off"
                    data-q="a">&nbsp;<button id="decrAlias" type="button">-</button><button id="incrAlias" type="button">+</button><br>
            </div>
            <div id="borderDiv" style="display:none;">
                <label for="renderBackground">Render Background:&nbsp;</label><input id="renderBackground" type="text"
                    value="off" data-q="b" size="8">&nbsp;<button id="toggleBackground" type="button">Toggle</button><br>
                <label for="backgroundColor">Background Color:&nbsp;</label><input id="backgroundColor" type="text"
                    value="rgba(0,0,255,0.4)" size="12" data-q="bC"><br>
                <label for="backgroundWidth">Width:&nbsp;</label><input id="backgroundWidth" type="text" value="1" size="8"
                    data-q="bW">&nbsp;
                <button id="decrBackgroundWidth" type="button">-</button><button id="incrBackgroundWidth" type="button">+</button><br>
                <label for="backgroundHeight">Height:&nbsp;</label><input id="backgroundHeight" type="text" value="1"
                    size="8" data-q="bH">&nbsp;
                <button type="button" id="decrBackgroundHeight">-</button><button id="incrBackgroundHeight" type="button">+</button><br>
                <label for="backgroundRoundness">Roundness:&nbsp;</label><input id="backgroundRoundness" type="text"
                    value="0" size="8" data-q="bR">&nbsp;
                <button id="decrBackgroundRoundness" type="button">-</button><button id="incrBackgroundRoundness" type="button">+</button><br>
            </div>
            <div id="alignDiv" style="display:none;">
                <label for="tweakX">Tweak X:&nbsp;</label><input id="tweakX" type="text" value="0" size="8" data-q="tX">&nbsp;
                <button type="button" id="decrTweakX">-</button><button id="incrTweakX" type="button">+</button><br>
                <label for="tweakY">Tweak Y:&nbsp;</label><input id="tweakY" type="text" value="0" size="8" data-q="tY">&nbsp;
                <button type="button" id="decrTweakY">-</button><button id="incrTweakY" type="button">+</button><br>
                <button id="autoCenter" type="button">Auto-Center Glyph in Border</button><br>
                <label for="pixelX">Pixel X:&nbsp;</label><input id="pixelX" type="text" value="0" size="8" data-q="pX">&nbsp;
                <button type="button" id="decrPixelX">-</button><button id="incrPixelX" type="button">+</button><br>
            </div>
            <div id="pinsDiv" style="display:none">
                <label for="pinCoord">Coord:&nbsp;</label>
                <input id="pinCoord" type="text" value="0,0" size="24"><br>
                <label for="pinName">Name:&nbsp;</label>
                <input id="pinName" type="text" value="" size="14">&nbsp;
                <button type="button" id="pinButton">Pin</button><br>
                <textarea id="pins" cols="32" rows="4" data-q="pins">{}</textarea>
            </div>
            <canvas width="400" height="400" id="canvas"></canvas><br>
            <br>
            <button type="button" id="generateSingletonButton">Generate Singleton</button><br>
        </form>
    </section>
    <section id="generatedSingletonSection" style="display:none;">
        <h1>Generated Singleton</h1>

        <h2>Preview</h2>

        <p>Device Pixel Matched Size:<br>
        <img id="previewMatchedsize1">
        <img id="previewMatchedsize2">
        <img id="previewMatchedsize3">
        <img id="previewMatchedsize4"></p>

        <p>Full Size:<br>
        <img id="preview1">
        <img id="preview2">
        <img id="preview3">
        <img id="preview4"></p>

        <p>Half Size (Recommended):<br>
        <img id="previewHalfsize1">
        <img id="previewHalfsize2">
        <img id="previewHalfsize3">
        <img id="previewHalfsize4"></p>


        <p>Quarter Size:<br>
        <img id="previewQuartersize1">
        <img id="previewQuartersize2">
        <img id="previewQuartersize3">
        <img id="previewQuartersize4"></p>

        <h2>Javascript</h2>

        <pre id="jsResult">
            <!-- will be populated by script -->
        </pre>
        
        <h2>HTML</h2>

        <pre id="htmlResult">
            <!-- will be populated by script -->
         </pre>
    </section>
</body>
<script>
    const cc = `<img width="33" height="33" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAIgklEQVR4Xu2bB6x0RRXHf6io0YgVYwkoRhFLbIgFBNFgixV71ygWFHuIBQ3GCphgb9g1FrDHhiFYY8EaW8QeO8WCSECwkd9m7ua++82ZmXv37vJMPMnL9763M2fO/Gfm9N2J/xM7bQiDywK7AXsB1wGuB1wT2BX4DfCv9LczgN8DPwd+kf79NfC3dcq5ThDc9AHAA4B7r7iJ7wBvAU5OwPx3RX5bps8NwqWAOwPPBvabU9AeL2+L/D8O/HWONeYC4RLpxN83h1AjeBwJvA74y4g5OwydA4RbA27et35R0SOSDP+ZIsAqIHj6zwFePGXhNcz5OnA/4A9jeU8F4SrAp4F9Ri74d+AdwHeBPwJnAv/s8bgycFXgxsCdgNuM5O/wOwKfHzNvCgiauS8mYVvW+gzwJuCbaeMtc7oxVwRuAjwQeNKIiU8G3tA6fiwInvw3Gpmrwd8zYeMR+12S5Xl94wEcAzwXqOqJMSAc2HjNXPzoVTV2AehLAg8B3tlwGG8HnpCcsXB4Kwi3B75QWVT7fY907RvkW3nI1QA3ebcKJ8c8Hvh3NK4FBHXAjysLfRB43Lrd24wMyq+u0Fco0YsAfYos1UDQ5/9qUk4Rj5ekBapvb+WzjxncAfhchb835sTcmBoILywhCDwTeOUaNzeG9S2Abxcm+Fw1vZrlLVQCoWYJDgPU1NuJak/XZ/NUYEsAFoGwc7IEURCkBdBbnDWamwnNfYGvFHjtDRiVLikC4f6Ayi5HPwVuBpw3k9DrYHNowVn6BHDfvtnMgaAy1CG6YSCd7+pH65B8Rp61m6zJ/1K3Xg6EhwLvDQQ6AnjZjMKuk5W31RglR19OMYYZrR3Sa6Vb8LtkKmdJZKxz9z3erwGeEqyl4v9WDoSDgJOCSY8C3r0h4eda5trArwJmWooFQP3n4O9+kIvWfgncFDinUTr9+6sDlwPOAq6QUmGn1/z4Af+LA9cArgT8Gbh88kq19ec3ynJUSscNhy9vdh8EozTfUC5D1HoL5PFo4NUFATWv+vM/KYy5DPBw4M2FMV714xqUtJltLVqOzFec0gchco70tLwFp1WQ37+vcRtO6RXA8zI3Q8/PHITJlRZ6bfJcF0ouQxdLWWqj4CEtPN4+CIacJj+GdEIKXUuxgTm+KfpiGOHdHfhky84HYz6Qbk4UKT4GeFuGrz7DwR0I5gsNlXMeYu0p1Nzr2p6MPt8KXBf4WW1w4fNDgo06Rd/mB5m53vK9OhAunYKPnIOkvf3ehKvmFE/a5If89eIOzvBR6Srkq1Lcn1vqw4A6wLqGoFnQGVJJeaurvhY4gPt0IJigcKPDd7hAqlDkKCVbHgwcP5D0senU/bNJV///kVSCi3IWjhHMPqk0Td119LDk5veTtkOQDPZylm8JQhR9Ld5MIStjEPXyzKn4/jyxYYClkvpQevfv78UfUaziW3eDQ33k4alYrVtqQc5teEYRCHt3NyEyIzWlGDHe4ps3CBiBGSZCGngOh0RB1SGrgOBcr6l+wZCuX7DNOfnDq9q5thM2PZwS3bbDaiCUnkMUZ+iJqWB9862U8/Gdr1JW4c1Bk0EoPYfIrCq8zlXks+c2FAU6yyBnBhQmg+BNuE+hgBEJf1vA2mArRXzG6pbSepNBqCnGSHiLLyq7HHm6psCsSZ6dBmj3XWtIy0gv89nNAT1My20tpflI1gM6nRB5a75H32X0vksJmFtmsr86LSY0rC9KamzBMO6IQvjbZXKGBlh6uF1B+BnAuypNG+GT63uMpwT1hT0L7qwFUxMTUW+CDtOn0oYNjN6Y8doE2h6HjxW6Wx6ZPtdfEEDd7KF3W3LsSkHU0lnSrY1A8C3ptkYUBV6t+qCLTe6VWnBa5w3HPQs4Nphsk5hWa0je8Bv1o8io0GLDlBuN0utaCa9yLlStbUg/Q8/SEy75HTU+6hM9yyicjjJmpuYP7IMQDWzJLRrYmMF5ek3a3ue5irGAWjN8/kg+xgSlTJO1yBdkeC5qlH0QTIdFrS73bIzzrQn6Xkv9SzZrHJ4aPaK9qiMEKUr7O88CikkRG0ZKVEoeL/bVB6GkPBbXZkR+UOFVhEannpDX3fYc03djnCiV8q0SH5+jvOTz/RG5h0jXLPQB8Nth3cE4QJOVI5+LzZT/S6TCt8iS661ahgRDEEpPwmSlyY9SzL7dANLb/Wgg1NLq5SpQUYpaXtrrfjJju226L08pe74lyMuBUCpYtGaetwM4UY5C2bq85kLOqCpdas7QJusuhz1A2wAB44ot5feeTDuE+hEItuD/sJD734LkNth0XwQbTfV+IzNt55tpuyWVOlVKlkIGrb7DJjHSJ7CbNeq0zSr3Egi1Gr+bs9kh0r6b3LxreQM04V2Emls/F9lWv/lSquN1i+RS4psGwFTAZyueathbUboJ3UaihEd/o1FdcRNg+CUTAShR0eNtAUHmFk5fWlnIvIAC+d2lTZBBm4FWLdjSGmgt/hQJ1QqC4wTCxs0a2WGu673Oxi4DNTV8rXLtwZjKsy8ipFYQOgaGrC29iwYnTwT0z8ek3kuyGmar9e2Zasld+ATu2tJYMhYEhWzREf3N2JShg2XH2z9q12jwuZ0q1wLuAujA1U6+m27y9WmtUe8UEFzIeH9MSr0TzhyBidZTU9OH2eYLUtbKk9bO66jtAZhgte+hdePdGpboXae50XQqCC6oXbYxo9ZqP/LwJw83rvH6R217s+mEHKMHDd3QyduYPlGlbX/DJGW8yk3oi2zq3YZvc3abJK+9pnuleuVcIHQb9z37tTzrC+sklaRPcUyqbq3PIcdcJWflyu9I15yZVrCsINngYaJ2rJUprjH3TcgtppnbHbhBSr7aO2gNsUS6weYDrG7ZcOWJRzWFVhA3fhNaBNPt9cb4I7lJf1o7VVvWaBpzIdxAxtRhGZoXAAAAAElFTkSuQmCC">`
    const cc_by = `<img width="33" height="33" src="data:image/png;base64,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">`
    const cc_sa = `<img width="33" height="33" src="data:image/png;base64,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">`
    const cc_ab = `<img width="33" height="33" src="data:image/png;base64,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">`
    const cc_mo = `<img width="33" height="33" src="data:image/png;base64,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">`
    const cc_a = `<img width="33" height="33" src="data:image/png;base64,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">`
    const licenseMeta = {
        'SIL OFL 1.1': { url: 'http://scripts.sil.org/OFL', icons: `${cc_by} ${cc_sa} ${cc_a} ${cc_ab} ${cc_mo}` },
        'MIT': { url: 'https://opensource.org/licenses/MIT', icons: `${cc_by}` },
        'CC BY 3.0': { url: 'https://creativecommons.org/licenses/by/3.0/', icons: `${cc} ${cc_by}` },
        'CC BY 4.0': { url: 'https://creativecommons.org/licenses/by/4.0/', icons: `${cc} ${cc_by}` },
        'CC BY-SA': { url: 'https://creativecommons.org/licenses/by-sa/2.0/', icons: `${cc} ${cc_by} ${cc_sa}` },
        "Batch' AS IS": { url: 'http://adamwhitcroft.com/batch/', icons: `${cc_by}` }
    }

    const meta = {
        'fa4': { fullname: 'FontAwesome 4.7.0 (Free)', license: 'SIL OFL 1.1', licenses: { 'Font': 'SIL OFL 1.1', 'Code': 'MIT', 'Docs': 'CC BY 3.0' }, sample: 'f040', homepage: 'https://fontawesome.com/v4.7.0/', browse: 'https://fontawesome.com/v4.7.0/icons/', attribution: 'Font Awesome', courtesy: 'Consider buying a pro license!' },
        'fa5b': { fullname: 'FontAwesome 5.5.0 Brands (Free)', license: 'SIL OFL 1.1', licenses: { 'Webfont': 'SIL OFL 1.1', 'SVG+JS': 'CC BY 4.0', 'Code': 'MIT' }, sample: 'f286', homepage: 'https://fontawesome.com/', browse: 'https://fontawesome.com/icons?d=gallery&s=brands&m=free', attribution: 'Font Awesome', courtesy: 'Consider buying a pro license!' },
        'fa5r': { fullname: 'FontAwesome 5.5.0 Regular (Free)', license: 'SIL OFL 1.1', licenses: { 'Webfont': 'SIL OFL 1.1', 'SVG+JS': 'CC BY 4.0', 'Code': 'MIT' }, sample: 'f044', homepage: 'https://fontawesome.com/', browse: 'https://fontawesome.com/icons?d=gallery&s=regular&m=free', attribution: 'Font Awesome', courtesy: 'Consider buying a pro license!' },
        'fa5s': { fullname: 'FontAwesome 5.5.0 Solid (Free)', license: 'SIL OFL 1.1', licenses: { 'Webfont': 'SIL OFL 1.1', 'SVG+JS': 'CC BY 4.0', 'Code': 'MIT' }, sample: 'f303', homepage: 'https://fontawesome.com/', browse: 'https://fontawesome.com/icons?d=gallery&s=solid&m=free', attribution: 'Font Awesome', courtesy: 'Consider buying a pro license!' },
        'capi': { fullname: 'Captain Icon', license: 'CC BY-SA', licenses: { 'Font': 'CC BY-SA' }, sample: 'e635', homepage: 'http://mariodelvalle.github.io/CaptainIconWeb/', browse: './fonts/capi/demo.html', attribution: 'Captain Icon', courtesy: 'Consider donating!' },
        'mad3': { fullname: 'Material Design Icons 3.0.39', license: 'SIL OFL 1.1', licenses: { 'Font': 'SIL OFL 1.1' }, sample: 'f3eb', homepage: 'https://materialdesignicons.com/', browse: './fonts/mad3/preview.html', attribution: 'Google and the Material Design Icons Community', courtesy: 'Consider buying a pro pack!' },
        'dev1': { fullname: 'DevIcons 1.8.0', license: 'MIT', licenses: { 'Font': 'MIT' }, sample: 'e60e', homepage: 'http://vorillaz.github.io/devicons', browse: 'http://vorillaz.github.io/devicons/#/cheat', attribution: 'Theodore Vorillas et al.', courtesy: 'Consider donating!' },
        'ow1': { fullname: 'OpenWeb Icons 1.6.0', license: 'SIL OFL 1.1', licenses: { 'Font': 'SIL OFL 1.1', 'Site': 'CC BY 4.0' }, sample: 'f016', homepage: 'https://pfefferle.github.io/openwebicons/', browse: 'https://pfefferle.github.io/openwebicons/', attribution: 'Matthias Pfefferle et al.', courtesy: 'Consider using Open Web Standards!' },
        'oi1': { fullname: 'Open Iconic 1.1.1', license: 'MIT', licenses: { 'Icons': 'MIT', 'Font': 'SIL OFL 1.1' }, sample: 'e0a3', homepage: 'https://useiconic.com/open', browse: 'https://useiconic.com/open', attribution: 'Open Iconic', courtesy: 'Consider buying the pro version!' },
        'batch': { fullname: 'Batch by Adam Whitcroft', license: "Batch' AS IS", licenses: { 'Font': "Batch' AS IS" }, sample: 'f139', homepage: 'http://adamwhitcroft.com/batch/', browse: './fonts/batch/Webfont/batch_webfont_reference.pdf', attribution: 'Adam Whitcroft', courtesy: 'Consider buying Adam a cup of coffee!' },
        'drip2': { fullname: 'Drip Icons v2', license: 'CC BY 4.0', licenses: { 'Icons': 'CC BY 4.0', 'Font': 'SIL OFL 1.1' }, sample: 'e02f', homepage: 'http://demo.amitjakhu.com/dripicons/', browse: 'http://demo.amitjakhu.com/dripicons/', attribution: 'Amit Jakhu', courtesy: 'Consider appreciating this project on behance!' },
        'iw1': { fullname: 'Icon Works v1', license: 'SIL OFL 1.1', licenses: { 'Font': 'SIL OFL 1.1' }, sample: '006e', homepage: 'http://icon-works.com/', browse: './fonts/iw1/Glyph-Chart.html', attribution: 'Icon Works', courtesy: 'Consider donating!' },
    }

    const selectFont = document.getElementById("font");

    for (let font in meta) {
        let entry = meta[font]
        let option = document.createElement("option");
        option.setAttribute('value', font)
        let fullname = document.createTextNode(entry.fullname);
        option.appendChild(fullname)
        selectFont.appendChild(option)
    }

    const inputUnicode = document.getElementById("unicode");
    const inputDecimal = document.getElementById("decimal");
    const inputLiteral = document.getElementById("literal");
    const glyphSpan = document.getElementById("glyphSpan");

    const inputSize = document.getElementById("size");
    const incrSize = document.getElementById("incrSize");
    const decrSize = document.getElementById("decrSize");

    const inputColor = document.getElementById("color");

    const inputAlias = document.getElementById("alias");
    const incrAlias = document.getElementById("incrAlias");
    const decrAlias = document.getElementById("decrAlias");

    const inputRenderBackground = document.getElementById("renderBackground");
    const toggleBackgroundButton = document.getElementById("toggleBackground");
    const inputBackgroundWidth = document.getElementById("backgroundWidth");
    const inputBackgroundHeight = document.getElementById("backgroundHeight");
    const inputBackgroundRoundness = document.getElementById("backgroundRoundness");

    const incrBackgroundWidth = document.getElementById("incrBackgroundWidth");
    const incrBackgroundHeight = document.getElementById("incrBackgroundHeight");
    const incrBackgroundRoundness = document.getElementById("incrBackgroundRoundness");

    const decrBackgroundWidth = document.getElementById("decrBackgroundWidth");
    const decrBackgroundHeight = document.getElementById("decrBackgroundHeight");
    const decrBackgroundRoundness = document.getElementById("decrBackgroundRoundness");

    const inputBackgroundColor = document.getElementById("backgroundColor");

    const inputTweakX = document.getElementById("tweakX");
    const inputTweakY = document.getElementById("tweakY");
    const inputPixelX = document.getElementById("pixelX");

    const incrTweakX = document.getElementById("incrTweakX");
    const incrTweakY = document.getElementById("incrTweakY");
    const incrPixelX = document.getElementById("incrPixelX");

    const decrTweakX = document.getElementById("decrTweakX");
    const decrTweakY = document.getElementById("decrTweakY");
    const decrPixelX = document.getElementById("decrPixelX");

    //const inputPixelY = document.getElementById("pixelY");
    const autoCenterButton = document.getElementById("autoCenter");
    let autoCenterX = 0
    let autoCenterY = 0

    const inputCanvasColor1 = document.getElementById("canvasColor1");
    const inputCanvasColor2 = document.getElementById("canvasColor2");

    const inputPinCoord = document.getElementById("pinCoord")
    const inputPinName = document.getElementById("pinName")
    const pinButton = document.getElementById("pinButton")
    const inputPins = document.getElementById("pins")

    const attributionParagraph = document.getElementById("attributionParagraph");
    const courtesyParagraph = document.getElementById("courtesyParagraph");
    const homepageLink = document.getElementById("homepageLink");
    const licenseParagraph = document.getElementById("licenseParagraph");
    const browseLink = document.getElementById("browseLink");

    const preview1 = document.getElementById("preview1");
    const preview2 = document.getElementById("preview2");
    const preview3 = document.getElementById("preview3");
    const preview4 = document.getElementById("preview4");

    const previewMatchedsize1 = document.getElementById("previewMatchedsize1");
    const previewMatchedsize2 = document.getElementById("previewMatchedsize2");
    const previewMatchedsize3 = document.getElementById("previewMatchedsize3");
    const previewMatchedsize4 = document.getElementById("previewMatchedsize4");

    const previewHalfsize1 = document.getElementById("previewHalfsize1");
    const previewHalfsize2 = document.getElementById("previewHalfsize2");
    const previewHalfsize3 = document.getElementById("previewHalfsize3");
    const previewHalfsize4 = document.getElementById("previewHalfsize4");

    const previewQuartersize1 = document.getElementById("previewQuartersize1");
    const previewQuartersize2 = document.getElementById("previewQuartersize2");
    const previewQuartersize3 = document.getElementById("previewQuartersize3");
    const previewQuartersize4 = document.getElementById("previewQuartersize4");

    //const previewAddToSet = document.getElementById("previewAddToSet");
    //const previewSize = document.getElementById("previewSize");

    const pageUpImg = document.getElementById("pageUp");
    const pageDownImg = document.getElementById("pageDown");

    const panNorthImg = document.getElementById("pan_n");
    const panEastImg = document.getElementById("pan_e");
    const panSouthImg = document.getElementById("pan_s");
    const panWestImg = document.getElementById("pan_w");

    const dockNorthEastImg = document.getElementById("dock_ne");
    const dockNorthWestImg = document.getElementById("dock_nw");
    const dockSouthWestImg = document.getElementById("dock_sw");
    const dockSouthEastImg = document.getElementById("dock_se");
    const dockNorthImg = document.getElementById("dock_n");
    const dockEastImg = document.getElementById("dock_e");
    const dockSouthImg = document.getElementById("dock_s");
    const dockWestImg = document.getElementById("dock_w");

    const glyphButton = document.getElementById("glyphButton")
    const borderButton = document.getElementById("borderButton")
    const alignButton = document.getElementById("alignButton")
    const pinsButton = document.getElementById("pinsButton")

    const glyphDiv = document.getElementById("glyphDiv")
    const borderDiv = document.getElementById("borderDiv")
    const alignDiv = document.getElementById("alignDiv")
    const pinsDiv = document.getElementById("pinsDiv")

    let generateSingletonFlag = false
    const generateSingletonButton = document.getElementById("generateSingletonButton")
    //const addToSetButton = document.getElementById("addToSetButton")
    const generatedSingletonSection = document.getElementById("generatedSingletonSection")

    glyphButton.addEventListener("click", () => {
        glyphDiv.style.display = "block"
        borderDiv.style.display = "none"
        alignDiv.style.display = "none"
        pinsDiv.style.display = "none"
    })
    borderButton.addEventListener("click", () => {
        glyphDiv.style.display = "none"
        borderDiv.style.display = "block"
        alignDiv.style.display = "none"
        pinsDiv.style.display = "none"
    })
    alignButton.addEventListener("click", () => {
        glyphDiv.style.display = "none"
        borderDiv.style.display = "none"
        alignDiv.style.display = "block"
        pinsDiv.style.display = "none"
    })
    pinsButton.addEventListener("click", () => {
        glyphDiv.style.display = "none"
        borderDiv.style.display = "none"
        alignDiv.style.display = "none"
        pinsDiv.style.display = "block"
    })

    const inputs = [inputPins, selectFont, inputUnicode, inputSize, inputAlias, inputColor, inputRenderBackground, inputBackgroundWidth, backgroundHeight, inputBackgroundRoundness, inputBackgroundColor, inputTweakX, inputTweakY, inputPixelX, /*inputPixelY,*/ inputCanvasColor1, inputCanvasColor2];

    function link() {
        return [
            "http://wouterkuijper.com/iconic/index.html",
            inputs.map((element) => {
                return `${element.getAttribute('data-q')}=${encodeURIComponent(element.value)}`
            }).join('&')
        ].join('?')
    }

    function drawRoundedRect(ctx, sx, sy, ex, ey, r) {
        var r2d = Math.PI / 180;
        if ((ex - sx) - (2 * r) < 0) { r = ((ex - sx) / 2); } //ensure that the radius isn't too large for x
        if ((ey - sy) - (2 * r) < 0) { r = ((ey - sy) / 2); } //ensure that the radius isn't too large for y
        ctx.beginPath();
        ctx.moveTo(sx + r, sy);
        ctx.lineTo(ex - r, sy);
        ctx.arc(ex - r, sy + r, r, r2d * 270, r2d * 360, false);
        ctx.lineTo(ex, ey - r);
        ctx.arc(ex - r, ey - r, r, r2d * 0, r2d * 90, false);
        ctx.lineTo(sx + r, ey);
        ctx.arc(sx + r, ey - r, r, r2d * 90, r2d * 180, false);
        ctx.lineTo(sx, sy + r);
        ctx.arc(sx + r, sy + r, r, r2d * 180, r2d * 270, false);
        ctx.closePath();
    }

    function drawIcon(ctx, x, y, param, drawBounds = false, suppressBackground = false) {

        const icon = String.fromCharCode(param.unicode)

        ctx.font = `${param.size}px ${param.font}`
        ctx.textAlign = "center"
        ctx.textBaseline = "middle"
        //var metrics = ctx.measureText(icon);

        const backgroundQuarterWidth = Math.round((param.size / 4) * param.backgroundWidth)
        const backgroundQuarterHeight = Math.round((param.size / 4) * param.backgroundHeight)

        const backgroundHalfWidth = backgroundQuarterWidth * 2
        const backgroundHalfHeight = backgroundQuarterHeight * 2

        const backgroundWidth = backgroundHalfWidth * 2
        const backgroundHeight = backgroundHalfHeight * 2

        const roundness = Math.min(Math.max(param.backgroundRoundness, 0), 1)
        const quarterRadius = Math.round(roundness * (Math.min(backgroundQuarterHeight, backgroundQuarterWidth) / 2))
        const halfRadius = quarterRadius * 2
        const radius = halfRadius * 2

        if (param.renderBackground && !suppressBackground) {
            ctx.fillStyle = param.backgroundColor
            if (backgroundHalfWidth === backgroundHalfHeight && roundness === 1) { // circle
                ctx.beginPath();
                ctx.arc(x, y, backgroundHalfWidth, 0, 2 * Math.PI);
                ctx.fill();
            } else if (roundness === 0) { // rectangle
                ctx.fillRect(x - backgroundHalfWidth, y - backgroundHalfHeight, backgroundWidth, backgroundHeight)
            } else {
                drawRoundedRect(ctx, x - backgroundHalfWidth, y - backgroundHalfHeight, x + backgroundHalfWidth, y + backgroundHalfHeight, radius)
                ctx.fill()
            }
        }

        if (drawBounds && !param.renderBackground) {
            ctx.strokeStyle = "red"
            drawRoundedRect(ctx, x - backgroundHalfWidth, y - backgroundHalfHeight, x + backgroundHalfWidth, y + backgroundHalfHeight, radius)
            ctx.stroke()
        }

        ctx.fillStyle = param.color
        ctx.fillText(icon, Math.round(x + (param.tweakX * param.size)) + param.pixelX, Math.round(y + (param.tweakY * param.size)) /*+ param.pixelY*/);

        return [backgroundQuarterWidth, backgroundQuarterHeight, quarterRadius]
    }

    function determineBounds(canvas) {
        let cols = canvas.width
        let rows = canvas.height

        let halfWidth = cols / 2
        let halfHeight = rows / 2

        let ctx = canvas.getContext("2d")

        let imgData = ctx.getImageData(0, 0, cols, rows).data

        function p(x, y) {
            let s = ((y * cols) + x) * 4
            if (imgData[s] !== 0 || imgData[s + 1] !== 0 || imgData[s + 2] !== 0 || imgData[s + 3] !== 0) {
                return true
            }
            return false
        }

        let top = -1
        let bot = -1
        let left = -1
        let right = -1
        // determine top
        for (let y = 0; y < rows; y++) {
            for (let x = 0; x < cols; x++) {
                if (p(x, y)) {
                    top = y
                    break
                }
            }
            if (top > 0) {
                break
            }
        }
        // is the sprite empty?
        if (top < 0) {
            top = bot = halfHeight
            left = right = halfWidth
        } else {
            // determine bottom
            for (let y = rows - 1; y >= 0; y--) {
                for (let x = 0; x < cols; x++) {
                    if (p(x, y)) {
                        bot = y
                        break
                    }
                }
                if (bot > 0) {
                    break
                }
            }
            // determine left
            for (let x = 0; x < cols; x++) {
                for (let y = 0; y < rows; y++) {
                    if (p(x, y)) {
                        left = x
                        break
                    }
                }
                if (left > 0) {
                    break
                }
            }
            // determine right
            for (let x = cols - 1; x >= 0; x--) {
                for (let y = 0; y < rows; y++) {
                    if (p(x, y)) {
                        right = x
                        break
                    }
                }
                if (right > 0) {
                    break
                }
            }
        }
        return [left - halfWidth, top - halfHeight, right - halfWidth, bot - halfHeight]
    }

    const canvas = document.getElementById("canvas")
    const ctx = canvas.getContext("2d")

    let detailPosX = 200 - 111
    let detailPosY = 200 - 111
    let detailLocX = -1
    let detailLocY = -1
    let dragging = false

    inputPinCoord.addEventListener("input", () => {
        const size = parseFloat(inputSize.value)
        const parts = inputPinCoord.value.split(",")
        if (parts.length != 2) {
            return
        }
        detailLocX = 200 + (parts[0] * size)
        detailLocY = 200 + (parts[1] * size)
        requestAnimationFrame(redraw)
    })

    function updatePinCoordValue() {
        if (detailLocX < 0 || detailLocY < 0) {
            inputPinCoord.value = ""
            return
        }
        const size = parseFloat(inputSize.value)
        const x = (detailLocX - 200)/size
        const y = (detailLocY - 200)/size
        inputPinCoord.value = `${x},${y}`
    }
    
    canvas.addEventListener("mousemove", (event) => {
        if (dragging) {
            detailLocX = event.offsetX
            detailLocY = event.offsetY
            updatePinCoordValue()
            requestAnimationFrame(redraw)
        }
    })

    canvas.addEventListener("mousedown", (event) => {
        if (event.button === 0) {
            if (detailLocX > 0 && detailLocY > 0 &&
                (Math.abs(detailLocX - event.offsetX) > 8 ||
                    Math.abs(detailLocY - event.offsetY) > 8)) {
                if (event.offsetX > detailPosX - 80 && event.offsetX < detailPosX + 80 &&
                    event.offsetY > detailPosY - 80 && event.offsetY < detailPosY + 80) {
                    if (event.offsetX < detailPosX - 48) {
                        if (event.offsetY < detailPosY - 48) {
                            detailPosX = 200 - 111
                            detailPosY = 200 - 111
                        } else if (event.offsetY > detailPosY + 49) {
                            detailPosX = 200 - 111
                            detailPosY = 200 + 111
                        } else {
                            detailLocX = Math.max(detailLocX - .5, 8)
                        }
                    } else if (event.offsetX > detailPosX + 49) {
                        if (event.offsetY < detailPosY - 48) {
                            detailPosX = 200 + 111
                            detailPosY = 200 - 111
                        } else if (event.offsetY > detailPosY + 49) {
                            detailPosX = 200 + 111
                            detailPosY = 200 + 111
                        } else {
                            detailLocX = Math.min(detailLocX + .5, 392)
                        }
                    } else if (event.offsetY < detailPosY - 48) {
                        detailLocY = Math.max(detailLocY - .5, 8)
                    } else if (event.offsetY > detailPosY + 49) {
                        detailLocY = Math.min(detailLocY + .5, 392)
                    }
                } else {
                    detailLocX = -1
                    detailLocY = -1
                }
            } else {
                detailLocX = event.offsetX
                detailLocY = event.offsetY
                dragging = true
            }
            updatePinCoordValue()
            requestAnimationFrame(redraw)
        }
    })

    canvas.addEventListener("mouseup", (event) => {
        if (event.button === 0) {
            dragging = false
            requestAnimationFrame(redraw)
        }
    })

    function createGlyphCanvas(param, width, height, glyphX, glyphY) {
        const canvas = document.createElement('canvas')

        canvas.width = width
        canvas.height = height

        const ctx = canvas.getContext("2d")

        ctx.font = `${param.size}px ${param.font}`
        ctx.textAlign = "center"
        ctx.textBaseline = "middle"

        ctx.fillStyle = param.color

        const char = String.fromCharCode(param.unicode)
        ctx.fillText(char, glyphX, glyphY);

        let imgData = ctx.getImageData(0, 0, width, height)
        const img = imgData.data

        function p(x, y) {
            const s = ((y * width) + x) * 4
            return (img[s] !== 0 || img[s + 1] !== 0 || img[s + 2] !== 0 || img[s + 3] !== 0)
        }

        let top = -1
        let bot = -1
        let left = -1
        let right = -1

        // determine top
        for (let y = 0; y < height; y++) {
            for (let x = 0; x < width; x++) {
                if (p(x, y)) {
                    top = y
                    break
                }
            }
            if (top > 0) {
                break
            }
        }
        // is the sprite empty?
        if (top < 0) {
            top = bot = glyphY
            left = right = glyphX
            return [left, top, right, bot, canvas]
        } else {
            // determine bottom
            for (let y = height - 1; y >= 0; y--) {
                for (let x = 0; x < width; x++) {
                    if (p(x, y)) {
                        bot = y
                        break
                    }
                }
                if (bot > 0) {
                    break
                }
            }
            // determine left
            for (let x = 0; x < width; x++) {
                for (let y = 0; y < height; y++) {
                    if (p(x, y)) {
                        left = x
                        break
                    }
                }
                if (left > 0) {
                    break
                }
            }
            // determine right
            for (let x = width - 1; x >= 0; x--) {
                for (let y = 0; y < height; y++) {
                    if (p(x, y)) {
                        right = x
                        break
                    }
                }
                if (right > 0) {
                    break
                }
            }
        }

        if (param.alias === "off") {
            return [left, top, right, bot, canvas]
        }

        const aliasTreshold = Math.round(param.alias * 255)

        for (let y = top; y <= bot; y++) {
            const offset = (y * width * 4) + 3
            for (let x = left; x <= right; x++) {
                const alpha = offset + (x * 4)
                if (img[alpha] > aliasTreshold) {
                    img[alpha] = 255
                } else {
                    img[alpha] = 0
                }
            }
        }

        ctx.putImageData(imgData, 0, 0)

        return [left, top, right, bot, canvas]
    }

    function createIconCanvas(param) {

        const quarterWidth = Math.round((param.size / 4) * param.backgroundWidth)
        const quarterHeight = Math.round((param.size / 4) * param.backgroundHeight)

        const halfWidth = quarterWidth * 2
        const halfHeight = quarterHeight * 2

        const width = halfWidth * 2
        const height = halfHeight * 2

        const roundness = Math.min(Math.max(param.backgroundRoundness, 0), 1)
        const quarterRadius = Math.round(roundness * (Math.min(quarterHeight, quarterWidth) / 2))
        const halfRadius = quarterRadius * 2
        const radius = halfRadius * 2

        const glyphX = Math.round(halfWidth + (param.tweakX * param.size)) + param.pixelX
        const glyphY = Math.round(halfHeight + (param.tweakY * param.size))

        const canvas = document.createElement('canvas')

        canvas.width = width
        canvas.height = height

        const ctx = canvas.getContext("2d")

        if (param.renderBackground) {
            ctx.fillStyle = param.backgroundColor
            if (halfWidth === halfHeight && roundness === 1) { // circle
                ctx.beginPath();
                ctx.arc(halfWidth, halfHeight, halfWidth, 0, 2 * Math.PI);
                ctx.fill();
            } else if (roundness === 0) { // rectangle
                ctx.fillRect(0, 0, width, height)
            } else {
                drawRoundedRect(ctx, 0, 0, width, height, radius)
                ctx.fill()
            }
        }

        let [left, top, right, bot, glyphCanvas] = createGlyphCanvas(param, width, height, glyphX, glyphY)
        ctx.drawImage(glyphCanvas, 0, 0)

        return [quarterWidth, quarterHeight, quarterRadius, left, top, right, bot, canvas]
    }

    function redraw() {

        const canvasColor1 = inputCanvasColor1.value
        const canvasColor2 = inputCanvasColor2.value

        ctx.clearRect(0, 0, 400, 400)

        for (let x = 0; x < 40; x++) {
            for (let y = 0; y < 40; y++) {
                if (x % 2 == y % 2) {
                    ctx.fillStyle = canvasColor1
                } else {
                    ctx.fillStyle = canvasColor2
                }
                ctx.fillRect(x * 10, y * 10, 10, 10)
            }
        }

        const param = {
            size: parseInt(inputSize.value),
            font: selectFont.value,
            unicode: parseInt(`0x${inputUnicode.value}`),
            color: inputColor.value,
            renderBackground: ["off", "no", "false", "0"].indexOf(inputRenderBackground.value.toLowerCase().trim()) == -1,
            backgroundWidth: parseFloat(inputBackgroundWidth.value),
            backgroundHeight: parseFloat(inputBackgroundHeight.value),
            backgroundRoundness: parseFloat(inputBackgroundRoundness.value),
            backgroundColor: inputBackgroundColor.value,
            tweakX: parseFloat(inputTweakX.value),
            tweakY: parseFloat(inputTweakY.value),
            pixelX: parseFloat(inputPixelX.value),
            alias: inputAlias.value === "off" ? "off" : parseFloat(inputAlias.value)
        }

        //

        let [quarterWidth, quarterHeight, quarterRadius, left, top, right, bot, iconCanvas] = createIconCanvas(param)

        const halfWidth = 2 * quarterWidth
        const halfHeight = 2 * quarterHeight

        const width = 2 * halfWidth
        const height = 2 * halfHeight

        const halfRadius = 2 * quarterRadius
        const radius = 2 * halfRadius

        autoCenterX = Math.round((param.tweakX * param.size) + ((Math.abs(left - (halfWidth)) - (right - (halfWidth))) / 2)) / param.size
        autoCenterY = Math.round((param.tweakY * param.size) + ((Math.abs(top - (halfHeight)) - (bot - (halfHeight))) / 2)) / param.size

        ctx.drawImage(iconCanvas, 200 - halfWidth, 200 - halfHeight)

        ctx.strokeStyle = "green"
        ctx.strokeRect(200 - halfWidth + left - .5, 200 - halfHeight + top -.5, right - left + 1, bot - top + 1)

        ctx.strokeStyle = "red"
        drawRoundedRect(ctx, 200 - halfWidth - .5, 200 - halfHeight -.5, 200 + halfWidth + .5, 200 + halfHeight +.5, radius)
        ctx.stroke()

        let detailImg = undefined
        if (detailLocX >= 8 && detailLocY >= 8 && detailLocX < 392 && detailLocY < 392) {
            detailImg = ctx.getImageData(Math.round(detailLocX) - 8, Math.round(detailLocY) - 8, 17, 17).data
        }

        let pinnedLocs = []
        try {
            const pins = JSON.parse(inputPins.value)
            for (name in pins) {
                const parts = pins[name].split(",")
                const x = Math.round((200 + (parseFloat(parts[0]) * param.size)) * 2) / 2
                const y = Math.round((200 + (parseFloat(parts[1]) * param.size)) * 2) / 2
                ctx.strokeStyle = "gold"
                ctx.beginPath()
                ctx.arc(x, y, 2, 0, 2*Math.PI)
                ctx.stroke()
                pinnedLocs.push([x, y])
            }
        } catch {
            // NOOP
        }

        if (detailImg) {
            const px = detailPosX
            const py = detailPosY
            ctx.fillStyle = "rgb(30,30,30)"
            ctx.fillRect(px - 80, py - 80, 161, 161)
            let ppx = px - 3
            let ppy = py - 3
            if (detailLocX % 1 > 0) {
                ppx += 3
            }
            if (detailLocY % 1 > 0) {
                ppy += 3
            }
            for (let dx = -8; dx <= 8; dx++) {
                const x = 8 + dx
                for (let dy = -8; dy <= 8; dy++) {
                    const y = 8 + dy
                    if (x >= 0 && x < 400 && y >= 0 && y < 400) {
                        const offset = (y * 17 * 4) + (x * 4)
                        const r = detailImg[offset]
                        const g = detailImg[offset + 1]
                        const b = detailImg[offset + 2]
                        const a = detailImg[offset + 3]
                        const xx = ppx + (6 * dx)
                        const yy = ppy + (6 * dy)
                        ctx.fillStyle = `rgb(${r},${g},${b})`
                        ctx.fillRect(xx + 1, yy + 1, 5, 5)
                    }
                }
            }
            ctx.fillStyle = "black"
            ctx.strokeStyle = "white"
            ctx.fillRect(px - 80, py - 80, 161, 32)
            ctx.fillRect(px - 80, py + 49, 161, 32)
            ctx.fillRect(px - 80, py - 80, 32, 161)
            ctx.fillRect(px + 49, py - 80, 32, 161)
            ctx.strokeRect(px - 80, py - 80, 161, 161)
            ctx.beginPath()
            ctx.moveTo(px - 48, py - 80)
            ctx.lineTo(px - 48, py + 80)
            ctx.moveTo(px + 49, py - 80)
            ctx.lineTo(px + 49, py + 80)
            ctx.moveTo(px - 80, py - 48)
            ctx.lineTo(px + 80, py - 48)
            ctx.moveTo(px - 80, py + 49)
            ctx.lineTo(px + 80, py + 49)
            ctx.stroke()
            ctx.drawImage(panNorthImg, px - 8, py - 64 - 8, 16, 16)
            ctx.drawImage(panEastImg, px + 64 - 8, py - 8, 16, 16)
            ctx.drawImage(panSouthImg, px - 8, py + 64 - 8, 16, 16)
            ctx.drawImage(panWestImg, px - 64 - 8, py - 8, 16, 16)
            if (px > 200 || py > 200) {
                if (px < 200) {
                    ctx.drawImage(dockNorthImg, px - 65 - 14, py - 65 - 14, 28, 28)
                } else if (py < 200) {
                    ctx.drawImage(dockWestImg, px - 65 - 14, py - 65 - 14, 28, 28)
                } else {
                    ctx.drawImage(dockNorthWestImg, px - 66 - 11, py - 66 - 11, 22, 22)
                }
            }
            if (px < 200 || py > 200) {
                if (px > 200) {
                    ctx.drawImage(dockNorthImg, px + 65 - 14, py - 65 - 14, 28, 28)
                } else if (py < 200) {
                    ctx.drawImage(dockEastImg, px + 65 - 14, py - 65 - 14, 28, 28)
                } else {
                    ctx.drawImage(dockNorthEastImg, px + 66 - 11, py - 66 - 11, 22, 22)
                }
            }
            if (px < 200 || py < 200) {
                if (px > 200) {
                    ctx.drawImage(dockSouthImg, px + 65 - 14, py + 65 - 14, 28, 28)
                } else if (py > 200) {
                    ctx.drawImage(dockEastImg, px + 65 - 14, py + 65 - 14, 28, 28)
                } else {
                    ctx.drawImage(dockSouthEastImg, px + 66 - 11, py + 66 - 11, 22, 22)
                }
            }
            if (px > 200 || py < 200) {
                if (px < 200) {
                    ctx.drawImage(dockSouthImg, px - 65 - 14, py + 65 - 14, 28, 28)
                } else if (py > 200) {
                    ctx.drawImage(dockWestImg, px - 65 - 14, py + 65 - 14, 28, 28)
                } else {
                    ctx.drawImage(dockSouthWestImg, px - 66 - 11, py + 66 - 11, 22, 22)
                }
            }
            ctx.strokeStyle = "gold"
            ctx.beginPath()
            ctx.moveTo(px - 6.5, py + .5)
            ctx.lineTo(px + 7.5, py + .5)
            ctx.moveTo(px + .5, py - 6.5)
            ctx.lineTo(px + .5, py + 7.5)
            ctx.stroke()
            ctx.strokeRect(detailLocX - 8, detailLocY - 8, 17, 17)
            for (pinnedLoc of pinnedLocs) {
                ctx.strokeStyle = "gold"
                const x = (pinnedLoc[0]-detailLocX)
                const y = (pinnedLoc[1]-detailLocY)
                if (x > -8 && x < 8 && y > -8 && y < 8) {
                    const xx = px + (6*x) + .5
                    const yy = py + (6*y) + .5
                    ctx.beginPath()
                    ctx.arc(xx, yy, 4, 0, Math.PI*2)
                    ctx.stroke()
                }
            }
        }

        if (!generateSingletonFlag) {
            return
        }

        const dataURL = iconCanvas.toDataURL()
        const font = selectFont.value
        const fontInfo = meta[font]

        document.getElementById("jsResult").innerHTML = `{
    id: "${font}_${inputUnicode.value}", 
    font: "${fontInfo.fullname}",
    fontCreator: "${fontInfo.attribution}",
    fontHomepage: "${fontInfo.homepage}", 
    license: "This icon is licensed under: ${fontInfo.license} (${licenseMeta[fontInfo.license].url})",  
    quarterWidth: ${quarterWidth},
    quarterHeight: ${quarterHeight},
    quarterRadius: ${quarterRadius},
    generatorLink: "${link()}", 
    data: "${dataURL}"
}`

        document.getElementById("htmlResult").innerHTML = `&lt;img width="${halfWidth}" height="${halfHeight}" src="${dataURL}"&gt;`

        preview1.src = dataURL
        preview1.style = `background-color: white;`
        preview2.src = dataURL
        preview2.style = `background-color: ${canvasColor1};`
        preview3.src = dataURL
        preview3.style = `background-color: ${canvasColor2};`
        preview4.src = dataURL
        preview4.style = `background-color: black;`

        previewHalfsize1.src = dataURL
        previewHalfsize1.style = `background-color: white;`
        previewHalfsize1.width = halfWidth
        previewHalfsize1.height = halfHeight

        previewHalfsize2.src = dataURL
        previewHalfsize2.style = `background-color: ${canvasColor1};`
        previewHalfsize2.width = halfWidth
        previewHalfsize2.height = halfHeight

        previewHalfsize3.src = dataURL
        previewHalfsize3.style = `background-color: ${canvasColor2};`
        previewHalfsize3.width = halfWidth
        previewHalfsize3.height = halfHeight

        previewHalfsize4.src = dataURL
        previewHalfsize4.style = `background-color: black;`
        previewHalfsize4.width = halfWidth
        previewHalfsize4.height = halfHeight

        previewQuartersize1.src = dataURL
        previewQuartersize1.style = `background-color: white;`
        previewQuartersize1.width = quarterWidth
        previewQuartersize1.height = quarterHeight

        previewQuartersize2.src = dataURL
        previewQuartersize2.style = `background-color: ${canvasColor1};`
        previewQuartersize2.width = quarterWidth
        previewQuartersize2.height = quarterHeight

        previewQuartersize3.src = dataURL
        previewQuartersize3.style = `background-color: ${canvasColor2};`
        previewQuartersize3.width = quarterWidth
        previewQuartersize3.height = quarterHeight

        previewQuartersize4.src = dataURL
        previewQuartersize4.style = `background-color: black;`
        previewQuartersize4.width = quarterWidth
        previewQuartersize4.height = quarterHeight

        //previewAddToSet.src = dataURL
        //previewAddToSet.width = halfWidth
        //previewAddToSet.height = halfHeight

        //previewSize.src = dataURL
        //previewSize.width = halfWidth
        //previewSize.height = halfHeight

        const matchedWidth = width / window.devicePixelRatio
        const matchedHeight = height / window.devicePixelRatio

        previewMatchedsize1.src = dataURL
        previewMatchedsize1.style = `background-color: white;`
        previewMatchedsize1.width = matchedWidth
        previewMatchedsize1.height = matchedHeight

        previewMatchedsize2.src = dataURL
        previewMatchedsize2.style = `background-color: ${canvasColor1};`
        previewMatchedsize2.width = matchedWidth
        previewMatchedsize2.height = matchedHeight

        previewMatchedsize3.src = dataURL
        previewMatchedsize3.style = `background-color: ${canvasColor2};`
        previewMatchedsize3.width = matchedWidth
        previewMatchedsize3.height = matchedHeight

        previewMatchedsize4.src = dataURL
        previewMatchedsize4.style = `background-color: black;`
        previewMatchedsize4.width = matchedWidth
        previewMatchedsize4.height = matchedHeight

        generatedSingletonSection.style.display = "block"

        generateSingletonFlag = false
    }

    const url = window.location.href;
    function getParameterByName(name, defaultValue) {
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return defaultValue;
        if (!results[2]) return defaultValue;
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
    }

    function setUnicode(u) {
        inputUnicode.value = u
        n = parseInt(u, 16)
        inputDecimal.value = n.toString(10)
        inputLiteral.value = String.fromCharCode(n)
        font = selectFont.value
        inputLiteral.style = `font-family:${font};`
        updateGlyphTable(font)
        requestAnimationFrame(redraw)
    }

    function updateGlyphTable(font) {
        let hexCode = inputUnicode.value
        if (hexCode.length < 3) {
            return
        }
        let indices0 = []
        let indices8 = []
        let cols0 = []
        let cols8 = []
        let hexPage = hexCode.substring(0, 3)
        for (let c = 0; c < 16; c++) {
            let d = String.fromCharCode('0'.charCodeAt(0) + c)
            if (c >= 10) {
                d = String.fromCharCode('a'.charCodeAt(0) + (c - 10))
            }
            let currHexCode = hexPage + d
            if (currHexCode == hexCode) {
                indexCell = `<td class="glyph-td" data-u="${currHexCode}"><u>${d}</u></td>`
            } else {
                indexCell = `<td class="glyph-td" data-u="${currHexCode}">${d}</td>`
            }
            glyphCell = `<td class="glyph-td" data-u="${currHexCode}" style="font-family:${font};font-size:20px;">&#x${currHexCode};</td>`
            if (c < 8) {
                indices0.push(indexCell)
                cols0.push(glyphCell)
            } else {
                indices8.push(indexCell)
                cols8.push(glyphCell)
            }
        }
        glyphSpan.innerHTML = `<table><tr><td colspan="8">${hexPage}_</td></tr><tr>${indices0.join('')}</tr><tr>${cols0.join('')}</tr><tr><td colspan="16">${hexPage}_</td></tr><tr>${indices8.join('')}</tr><tr>${cols8.join('')}</tr></table>`
        let tds = document.getElementsByClassName("glyph-td")
        for (let i = 0; i < tds.length; i++) {
            tds[i].addEventListener("click", () => {
                setUnicode(tds[i].getAttribute("data-u"))
            })
        }
    }

    function updateFont(unicode) {
        let font = selectFont.value
        let entry = meta[font]
        attributionParagraph.innerHTML = `Creator: ${entry.attribution}`
        homepageLink.innerHTML = entry.homepage
        homepageLink.setAttribute('href', entry.homepage)
        courtesyParagraph.innerHTML = entry.courtesy
        browseLink.setAttribute('href', entry.browse)
        if (!unicode) {
            unicode = entry.sample
        }
        setUnicode(unicode)
        function genLicenseTableRow(thing, license, info) {
            return `<tr><td>${thing}</td><td><a href="${info.url}">${license}</a></td><td>${info.icons}</td></tr>`
        }
        function genLicenseTable(licenses) {
            let rows = []
            for (thing in licenses) {
                license = licenses[thing]
                licenseInfo = licenseMeta[license]
                rows.push(genLicenseTableRow(thing, license, licenseInfo))
            }
            return `<table><tr><td colspan=3>Free License(s)</td></tr>${rows.join('')}</table>`
        }
        licenseParagraph.innerHTML = genLicenseTable(entry.licenses)
        setTimeout(function () {
            requestAnimationFrame(redraw)
        }, 100)
        setTimeout(function () {
            requestAnimationFrame(redraw)
        }, 250)
        // redraw repeatedly for 10 secs, should be enough to load the fonts
        for (let future = 500; future < 10000; future += 500) {
            setTimeout(() => { requestAnimationFrame(redraw) }, future)
        }
    }

    // attach event listener for font selection
    selectFont.addEventListener('input', () => {
        updateFont()
    })

    // attach event listener for literal glyph input
    inputLiteral.addEventListener('input', () => {
        let s = inputLiteral.value
        if (!s || s.length < 1) {
            return
        }
        if (s.length > 1) {
            s = s[s.length - 1]
            inputLiteral.value = s
        }
        hex = ("000" + s.charCodeAt(0).toString(16)).slice(-4);
        setUnicode(hex)
    })

    inputDecimal.addEventListener('input', () => {
        hex = ("000" + parseInt(inputDecimal.value).toString(16)).slice(-4);
        setUnicode(hex)
    })

    inputUnicode.addEventListener('input', () => {
        setUnicode(inputUnicode.value)
    })

    pageUpImg.addEventListener('click', () => {
        setUnicode((parseInt(inputUnicode.value, 16) - 16).toString(16))
    })

    pageDownImg.addEventListener('click', () => {
        setUnicode((parseInt(inputUnicode.value, 16) + 16).toString(16))
    })

    // attach event listener for buttons

    generateSingletonButton.addEventListener("click", () => {
        generateSingletonFlag = true
        requestAnimationFrame(redraw)
    })

    toggleBackgroundButton.addEventListener("click", () => {
        inputRenderBackground.value = ["off", "no", "false", "0"].indexOf(inputRenderBackground.value.toLowerCase().trim()) == -1 ? "off" : "on"
        requestAnimationFrame(redraw)
    })

    autoCenterButton.addEventListener("click", () => {
        inputTweakX.value = autoCenterX.toString(10)
        inputTweakY.value = autoCenterY.toString(10)
        requestAnimationFrame(redraw)
    })

    incrSize.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        if (size === 8 || size === 16 || size === 32 || size === 64 || size === 128) {
            size = size * 2
        } else if (size < 300) {
            size = (Math.floor(size / 4) * 4) + 4
        }
        inputSize.value = size.toString(10)
        requestAnimationFrame(redraw)
    })
    decrSize.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        if (size === 16 || size === 32 || size === 64 || size === 128 || size === 256) {
            size = size / 2
        } else if (size > 8) {
            size = (Math.ceil(size / 4) * 4) - 4
        }
        inputSize.value = size.toString(10)
        requestAnimationFrame(redraw)
    })

    incrBackgroundWidth.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let widthRatio = parseFloat(inputBackgroundWidth.value)
        let width = size * widthRatio
        width = Math.min((Math.floor(width / 4) * 4) + 4, 340)
        widthRatio = width / size
        inputBackgroundWidth.value = widthRatio.toString(10)
        requestAnimationFrame(redraw)
    })
    decrBackgroundWidth.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let widthRatio = parseFloat(inputBackgroundWidth.value)
        let width = size * widthRatio
        width = Math.max((Math.ceil(width / 4) * 4) - 4, 8)
        widthRatio = width / size
        inputBackgroundWidth.value = widthRatio.toString(10)
        requestAnimationFrame(redraw)
    })

    incrBackgroundHeight.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let heightRatio = parseFloat(inputBackgroundHeight.value)
        let height = size * heightRatio
        height = Math.min((Math.floor(height / 4) * 4) + 4, 340)
        heightRatio = height / size
        inputBackgroundHeight.value = heightRatio.toString(10)
        requestAnimationFrame(redraw)
    })
    decrBackgroundHeight.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let heightRatio = parseFloat(inputBackgroundHeight.value)
        let height = size * heightRatio
        height = Math.max((Math.ceil(height / 4) * 4) - 4, 8)
        heightRatio = height / size
        inputBackgroundHeight.value = heightRatio.toString(10)
        requestAnimationFrame(redraw)
    })

    incrBackgroundRoundness.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let halfWidth = Math.floor((parseFloat(inputBackgroundWidth.value) * size) / 2)
        let halfHeight = Math.floor((parseFloat(inputBackgroundHeight.value) * size) / 2)
        let minHalf = Math.min(halfWidth, halfHeight)
        let roundnessRatio = parseFloat(inputBackgroundRoundness.value)
        let radius = minHalf * roundnessRatio
        radius = Math.min((Math.floor(radius / 4) * 4) + 4, minHalf)
        roundnessRatio = radius / minHalf
        inputBackgroundRoundness.value = roundnessRatio.toString(10)
        requestAnimationFrame(redraw)
    })
    decrBackgroundRoundness.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let halfWidth = Math.floor((parseFloat(inputBackgroundWidth.value) * size) / 2)
        let halfHeight = Math.floor((parseFloat(inputBackgroundHeight.value) * size) / 2)
        let minHalf = Math.min(halfWidth, halfHeight)
        let roundnessRatio = parseFloat(inputBackgroundRoundness.value)
        let radius = minHalf * roundnessRatio
        radius = Math.max((Math.ceil(radius / 4) * 4) - 4, 0)
        roundnessRatio = radius / minHalf
        inputBackgroundRoundness.value = roundnessRatio.toString(10)
        requestAnimationFrame(redraw)
    })

    incrTweakX.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let tweakXRatio = parseFloat(inputTweakX.value)
        let tweakX = size * tweakXRatio
        tweakX = Math.min(Math.floor(tweakX) + 1, 128)
        tweakXRatio = tweakX / size
        inputTweakX.value = tweakXRatio.toString(10)
        requestAnimationFrame(redraw)
    })
    decrTweakX.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let tweakXRatio = parseFloat(inputTweakX.value)
        let tweakX = size * tweakXRatio
        tweakX = Math.max(Math.ceil(tweakX) - 1, -128)
        tweakXRatio = tweakX / size
        inputTweakX.value = tweakXRatio.toString(10)
        requestAnimationFrame(redraw)
    })

    incrTweakY.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let tweakYRatio = parseFloat(inputTweakY.value)
        let tweakY = size * tweakYRatio
        tweakY = Math.min(Math.floor(tweakY) + 1, 128)
        tweakYRatio = tweakY / size
        inputTweakY.value = tweakYRatio.toString(10)
        requestAnimationFrame(redraw)
    })
    decrTweakY.addEventListener("click", () => {
        let size = parseFloat(inputSize.value)
        let tweakYRatio = parseFloat(inputTweakY.value)
        let tweakY = size * tweakYRatio
        tweakY = Math.max(Math.ceil(tweakY) - 1, -128)
        tweakYRatio = tweakY / size
        inputTweakY.value = tweakYRatio.toString(10)
        requestAnimationFrame(redraw)
    })

    incrPixelX.addEventListener("click", () => {
        let pixelX = parseFloat(inputPixelX.value)
        if (pixelX < -.5) {
            pixelX = -.5
        } else if (pixelX < 0) {
            pixelX = 0
        } else {
            pixelX = .5
        }
        inputPixelX.value = pixelX.toString(10)
        requestAnimationFrame(redraw)
    })
    decrPixelX.addEventListener("click", () => {
        let pixelX = parseFloat(inputPixelX.value)
        if (pixelX > .5) {
            pixelX = .5
        } else if (pixelX > 0) {
            pixelX = 0
        } else {
            pixelX = -.5
        }
        inputPixelX.value = pixelX.toString(10)
        requestAnimationFrame(redraw)
    })

    // attach generic event listeners
    inputs.forEach(
        (element) => {
            element.addEventListener("input", () => {
                requestAnimationFrame(redraw);
            })
        }
    )

    incrAlias.addEventListener("click", () => {
        if (inputAlias.value === "off") {
            inputAlias.value = ".5"
        } else {
            let alias = parseFloat(inputAlias.value)
            alias = Math.min(alias + .125, 1)
            inputAlias.value = alias.toString(10)
        }
        requestAnimationFrame(redraw)
    })
    decrAlias.addEventListener("click", () => {
        if (inputAlias.value === "off" || inputAlias.value === "0") {
            inputAlias.value = "off"
        } else {
            let alias = parseFloat(inputAlias.value)
            alias = Math.max(alias - .125, 0)
            inputAlias.value = alias.toString(10)
        }
        requestAnimationFrame(redraw)
    })

    // attach event listener for pinning

    pinButton.addEventListener("click", () => {
        const coord = inputPinCoord.value
        if (coord == "" || coord.split(",").length != 2) {
            return
        }
        const name = inputPinName.value
        currPins = JSON.parse(inputPins.value)
        currPins[name] = coord
        inputPins.value = JSON.stringify(currPins)
        requestAnimationFrame(redraw)
    })

    // use query parameters to populate form
    inputDecimal.value = ''
    inputs.forEach((element) => {
        if (element.type == "checkbox") {
            element.checked = (getParameterByName(element.getAttribute('data-q'), "on") == "on")
        } else {
            element.value = getParameterByName(element.getAttribute('data-q'), element.value)
        }
    })

    updateFont(getParameterByName('u'))
</script>

</html>